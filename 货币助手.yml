app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: è´§å¸åŠ©æ‰‹
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/groq:0.0.12@38f75b2f4a3687af7b0947693c7903f5c7d8756f217ea492b8b81de6f16601f6
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: code
      id: 1765783543994-source-1765857652864-target
      selected: false
      source: '1765783543994'
      sourceHandle: source
      target: '1765857652864'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: llm
      id: 1765857652864-source-1766242662261-target
      source: '1765857652864'
      sourceHandle: source
      target: '1766242662261'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1766242662261-source-answer-target
      source: '1766242662261'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: ç”¨æˆ·è¾“å…¥
        type: start
        variables:
        - hint: ''
          label: è¯·è¾“å…¥è¦æŸ¥è¯¢çš„å¸ç§
          max_length: 100
          options: []
          placeholder: ''
          required: true
          type: text-input
          variable: coin_name
      height: 108
      id: '1765783543994'
      position:
        x: -408.05061541897817
        y: 330.319507910773
      positionAbsolute:
        x: -408.05061541897817
        y: 330.319507910773
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1766242662261.text#}}'
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 102
      id: answer
      position:
        x: 787.3564622517388
        y: 314.971464878623
      positionAbsolute:
        x: 787.3564622517388
        y: 314.971464878623
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import requests\nimport json\nfrom typing import Dict, Any\n\ndef main(arg1:\
          \ str = \"å…¨éƒ¨\", **kwargs) -> Dict[str, Any]:\n    # 1. å®šä¹‰æ˜ å°„\n    name_cn_map\
          \ = {\n        \"bitcoin\": \"æ¯”ç‰¹å¸\",\n        \"ethereum\": \"ä»¥å¤ªåŠ\",\n \
          \       \"binancecoin\": \"å¸å®‰å¸\",\n        \"dogecoin\": \"ç‹—ç‹—å¸\",\n    \
          \    \"litecoin\": \"è±ç‰¹å¸\",\n        \"ripple\": \"ç‘æ³¢å¸\",\n        \"tether\"\
          : \"æ³°è¾¾å¸\",\n        \"solana\": \"ç´¢æ‹‰çº³\",\n        \"usd-coin\": \"USDC\"\
          \n    }\n\n    all_coin_ids = \",\".join(name_cn_map.keys())\n    target_url\
          \ = (\n        f\"https://api.coingecko.com/api/v3/coins/markets?\"\n  \
          \      f\"vs_currency=usd&ids={all_coin_ids}&order=market_cap_desc\"\n \
          \       f\"&per_page=100&page=1&sparkline=false&price_change_percentage=24h%2C7d\"\
          \n    )\n\n    # 2. å¢åŠ  Header é˜²æ­¢æ‹¦æˆª\n    headers = {\n        \"User-Agent\"\
          : \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML,\
          \ like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n        \"Accept\": \"\
          application/json\"\n    }\n\n    try:\n        response = requests.get(target_url,\
          \ headers=headers, timeout=10)\n        api_data = response.json() if response.status_code\
          \ == 200 else []\n    except Exception as e:\n        print(f\"Error: {e}\"\
          )\n        api_data = []\n\n    result_data = []\n    for item in api_data:\n\
          \        coin_id = item.get(\"id\")\n        if coin_id not in name_cn_map:\n\
          \            continue\n\n        supply = item.get(\"circulating_supply\"\
          , 0)\n        symbol = item.get(\"symbol\", \"\").upper()\n        \n  \
          \      if supply >= 100000000:\n            supply_str = f\"{int(supply\
          \ / 100000000)}äº¿ {symbol}\"\n        elif supply >= 10000:\n           \
          \ supply_str = f\"{int(supply / 10000)}ä¸‡ {symbol}\"\n        else:\n   \
          \         supply_str = f\"{int(supply)} {symbol}\"\n\n        result_data.append({\n\
          \            \"name\": name_cn_map[coin_id],\n            \"price_usd\"\
          : round(item.get(\"current_price\", 0) or 0, 2),\n            \"market_cap\"\
          : int((item.get(\"market_cap\", 0) or 0) / 100000000),\n            \"hash_rate\"\
          : round(item.get(\"price_change_percentage_7d_in_currency\", 0) or 0, 2),\n\
          \            \"24h_change\": round(item.get(\"price_change_percentage_24h_in_currency\"\
          , 0) or 0, 2),\n            \"transaction_count\": supply_str,\n       \
          \     \"total_fees_btc\": round(item.get(\"high_24h\", 0) or 0, 2),\n  \
          \          \"block_count\": round(item.get(\"low_24h\", 0) or 0, 2),\n \
          \           \"create_by\": round(item.get(\"ath\", 0) or 0, 2)\n       \
          \ })\n\n    text = json.dumps({\"data\": result_data}, ensure_ascii=False)\n\
          \n    # ã€å…³é”®ä¿®æ”¹ã€‘è¿™é‡Œè¿”å›çš„ Key å¿…é¡»å¯¹åº”ä½ åœ¨èŠ‚ç‚¹å³ä¾§å¡«å†™çš„â€œè¾“å‡ºå˜é‡â€\n    return {\n        \"data\"\
          : {\"items\": result_data}, # å¯¹åº”åŸæ¥çš„ data ç»“æ„\n        \"name_cn_map\": name_cn_map,\
          \     # è¡¥å……ç¼ºå°‘çš„ name_cn_map\n        \"target_url\": target_url,       # è¡¥å……ç¼ºå°‘çš„\
          \ target_url\n        \"text\": text                    # ä¸»è¦ä½¿ç”¨çš„æ–‡æœ¬\n    }"
        code_language: python3
        outputs:
          data:
            children: null
            type: object
          name_cn_map:
            children: null
            type: object
          target_url:
            children: null
            type: string
          text:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1765783543994'
          - coin_name
          value_type: string
          variable: coin_name
      height: 51
      id: '1765857652864'
      position:
        x: -54.10244380330846
        y: 447.2215830989961
      positionAbsolute:
        x: -54.10244380330846
        y: 447.2215830989961
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: moonshotai/kimi-k2-instruct
          provider: langgenius/groq/groq
        prompt_template:
        - id: bee77a26-9b7b-47ab-8586-c5a18fbfebc7
          role: system
          text: "### ä»»åŠ¡è¯´æ˜ \n 1. **å­—æ®µæå–è§„åˆ™**ï¼šä»æä¾›çš„JSONæ•°æ®ä¸­ï¼Œä¸ºæ¯ä¸ªå¸ç§æå–**ä»¥ä¸‹9ä¸ªæŒ‡å®šå­—æ®µ**ï¼ˆä¸¥æ ¼9ä¸ªï¼Œä¸å¢ä¸å‡ï¼‰ï¼š\
            \ \n    - å¸ç§ä¸­æ–‡åç§°ï¼ˆé€šè¿‡coin_idæ˜ å°„ï¼‰ \n    - å½“å‰ä»·æ ¼ï¼ˆprice_usdï¼‰ï¼šä¿ç•™2ä½å°æ•° \n    - å¸‚å€¼ï¼ˆmarket_capï¼‰ï¼šè½¬æ¢ä¸ºâ€œäº¿ç¾å…ƒâ€å•ä½ï¼Œä¿ç•™0ä½å°æ•°ï¼ˆå¦‚1742000000000ç¾å…ƒâ†’17420ï¼‰\
            \ \n    - 7å¤©æ¶¨è·Œå¹…ï¼ˆhash_rateï¼‰ï¼šä¿ç•™2ä½å°æ•° \n    - 24hæ¶¨è·Œå¹…ï¼ˆ24h_changeï¼‰ï¼šä¿ç•™2ä½å°æ•° \n\
            \    - æµé€šä¾›åº”é‡ï¼ˆtransaction_countï¼‰ï¼šæ·»åŠ å¸ç§ç¬¦å·ï¼ˆsymbolï¼‰ï¼ŒæŒ‰æ•°å€¼å¤§å°ç®€åŒ–å•ä½ï¼ˆå¦‚19440000 BTCâ†’1944ä¸‡\
            \ BTCï¼‰ \n    - 24hæœ€é«˜ä»·ï¼ˆtotal_fees_btcï¼‰ï¼šä¿ç•™2ä½å°æ•° \n    - 24hæœ€ä½ä»·ï¼ˆblock_countï¼‰ï¼šä¿ç•™2ä½å°æ•°\
            \ \n    - å†å²æœ€é«˜ä»·ï¼ˆath_priceï¼‰ï¼šä¿ç•™2ä½å°æ•° \n 2. **å¸ç§èŒƒå›´**ï¼šå¤„ç†ä»¥ä¸‹15ä¸ªä¸»æµå¸ç§ï¼Œå¿½ç•¥å…¶ä»–å¸ç§ï¼š \n\
            \    æ¯”ç‰¹å¸ã€ä»¥å¤ªåŠã€å¸å®‰å¸ã€ç´¢æ‹‰çº³ã€æ³°è¾¾å¸ã€USDCã€ç‘æ³¢å¸ã€è‰¾è¾¾å¸ã€ç‹—ç‹—å¸ã€æ³¢åœºã€å¨å¸ã€æ³¢å¡ã€é“¾èŠ‚å¸ã€æŸ´çŠ¬å¸ã€è±ç‰¹å¸\n 3. **ä¸­æ–‡åç§°æ˜ å°„**ï¼š{{#1765857652864.text#}}\
            \ \n 4. **è¾“å‡ºè¦æ±‚**ï¼š \n    - ä¸¥æ ¼è¾“å‡º**JSONæ ¼å¼**ï¼Œä¸æ·»åŠ ä»»ä½•é¢å¤–æ–‡å­—ï¼ˆå¦‚æ ‡é¢˜ã€æ³¨é‡Šï¼‰ï¼› \n    - æœ€å¤–å±‚ä¸ºå¯¹è±¡ï¼ŒåŒ…å«`\"\
            data\"`é”®ï¼Œå€¼ä¸ºä¸Šè¿°15ä¸ªå¸ç§çš„æ•°ç»„ï¼› \n    - æ¯ä¸ªå¸ç§ä¸ºå¯¹è±¡ï¼Œé”®åå›ºå®šä¸ºï¼š`\"name\"`ï¼ˆå¸ç§ä¸­æ–‡åç§°ï¼‰ã€`\"price_usd\"\
            `ï¼ˆå½“å‰ä»·æ ¼ï¼‰ã€`\"market_cap\"`ï¼ˆå¸‚å€¼ï¼‰ã€`\"hash_rate\"`ï¼ˆ7å¤©æ¶¨è·Œå¹…ï¼‰ã€`\"24h_change\"`ï¼ˆ24hæ¶¨è·Œå¹…ï¼‰ã€`\"\
            transaction_count\"`ï¼ˆæµé€šä¾›åº”é‡ï¼‰ã€`\"total_fees_btc\"`ï¼ˆ24hæœ€é«˜ä»·ï¼‰ã€`\"block_count\"\
            `ï¼ˆ24hæœ€ä½ä»·ï¼‰ã€`\"ath_price\"`ï¼ˆå†å²æœ€é«˜ä»·ï¼‰ã€‚"
        selected: true
        structured_output_enabled: true
        title: LLM
        type: llm
        vision:
          enabled: false
      height: 87
      id: '1766242662261'
      position:
        x: 380.3028208942882
        y: 368.58311656851134
      positionAbsolute:
        x: 380.3028208942882
        y: 368.58311656851134
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: 339.5733876189994
      y: 109.30459015903511
      zoom: 0.574349177498518
  rag_pipeline_variables: []
